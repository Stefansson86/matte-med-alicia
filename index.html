<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ¤kna med Alicia</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Mode Selection Menu -->
    <div class="modal show" id="mode-menu">
        <div class="modal-content menu-content">
            <h1 class="menu-title">ğŸ“š RÃ¤kna med Alicia âœ¨</h1>
            <p class="menu-subtitle">VÃ¤lj hur du vill Ã¶va</p>

            <div class="mode-buttons">
                <button class="mode-btn game-mode-btn" id="select-game-mode">
                    <span class="mode-icon">ğŸ§®</span>
                    <span class="mode-title">MattetrÃ¤ning</span>
                    <span class="mode-desc">3 liv, blandat innehÃ¥ll (Ã¶vergÃ¥ngar + multiplikation)</span>
                </button>

                <button class="mode-btn practice-mode-btn" id="select-practice-mode">
                    <span class="mode-icon">ğŸ“–</span>
                    <span class="mode-title">VÃ¤lj en tabell</span>
                    <span class="mode-desc">Kan fÃ¥ 5 rÃ¤tt i rad?</span>
                </button>

                <button class="mode-btn transitions-mode-btn" id="select-transitions-mode">
                    <span class="mode-icon">ğŸ“Š</span>
                    <span class="mode-title">Ã–va Ã¶vergÃ¥ngar</span>
                    <span class="mode-desc">Samla 5 stjÃ¤rnor</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Table Selection Screen (Practice Mode) -->
    <div class="modal" id="table-selection">
        <div class="modal-content">
            <h2>ğŸ“– VÃ¤lj Ã–vningslÃ¤ge</h2>
            <p class="selection-subtitle">Vilken tabell vill du Ã¶va pÃ¥?</p>

            <div class="table-grid" id="table-grid">
                <!-- Generated by JavaScript -->
            </div>

            <button class="mixed-table-btn" id="select-mixed">
                ğŸ² BLANDADE (Alla)
            </button>

            <div class="selection-nav">
                <button class="nav-btn" id="table-back-btn">â† Tillbaka</button>
            </div>
        </div>
    </div>

    <div class="container" id="game-container" style="display: none;">
        <!-- Mode Indicator & Switch -->
        <div class="mode-indicator">
            <span id="mode-text">ğŸ® SpellÃ¤ge</span>
            <button class="switch-mode-btn" id="switch-mode-btn">Byt lÃ¤ge</button>
        </div>

        <!-- Banner -->
        <div class="banner">
            <h1>ğŸ“š RÃ¤kna med Alicia âœ¨</h1>
        </div>

        <!-- Stats Header (Game Mode) -->
        <div class="stats-header" id="game-stats">
            <div class="stat">
                <span class="stat-label">â­ Rad:</span>
                <span class="stat-value" id="current-streak">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">ğŸ† BÃ¤sta:</span>
                <span class="stat-value" id="best-streak">0</span>
            </div>
            <div class="lives">
                <span class="heart" id="heart-1">â¤ï¸</span>
                <span class="heart" id="heart-2">â¤ï¸</span>
                <span class="heart" id="heart-3">â¤ï¸</span>
            </div>
        </div>

        <!-- Practice Header -->
        <div class="practice-header" id="practice-stats" style="display: none;">
            <div class="practice-info">
                <div class="practice-table-name" id="practice-table-name">7Ã— Tabellen</div>
                <div class="mastery-progress" id="mastery-progress">
                    <span class="progress-text">I rad:</span>
                    <span class="progress-value" id="consecutive-correct">0/5</span>
                </div>
            </div>
            <div class="practice-session-stats">
                <div class="session-stat">
                    <span class="session-label">Svarade:</span>
                    <span class="session-value" id="total-answered">0</span>
                </div>
                <div class="session-stat">
                    <span class="session-label">Precision:</span>
                    <span class="session-value" id="accuracy">0%</span>
                </div>
            </div>
            <button class="show-table-btn" id="show-table-btn">ğŸ“‹ Visa tabell</button>
        </div>

        <!-- Transitions Header -->
        <div class="transitions-header" id="transitions-stats" style="display: none;">
            <div class="stars-row" id="stars-container">
                <!-- Generated by JavaScript -->
            </div>
        </div>

        <!-- Question Box -->
        <div class="question-box">
            <div class="question" id="question">3 Ã— 4</div>
        </div>

        <!-- Answer Grid -->
        <div class="answer-grid" id="answer-grid">
            <button class="answer-btn" data-answer="12">12</button>
            <button class="answer-btn" data-answer="15">15</button>
            <button class="answer-btn" data-answer="16">16</button>
            <button class="answer-btn" data-answer="18">18</button>
        </div>

        <!-- Feedback Area -->
        <div class="feedback" id="feedback"></div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="game-over-modal">
        <div class="modal-content">
            <h2>ğŸ‰ Bra fÃ¶rsÃ¶k! ğŸ‰</h2>
            <p class="result-text">Du klarade en rad pÃ¥ <span id="final-streak">0</span>!</p>
            <p class="encouragement" id="encouragement"></p>
            <button class="restart-btn" id="restart-btn">FÃ¶rsÃ¶k igen!</button>
        </div>
    </div>

    <!-- Reference Table Modal -->
    <div class="modal" id="reference-table-modal">
        <div class="modal-content table-modal-content">
            <h2 id="reference-table-title">7Ã— Tabellen</h2>
            <div class="reference-table" id="reference-table">
                <!-- Generated by JavaScript -->
            </div>
            <button class="close-table-btn" id="close-table-btn">StÃ¤ng</button>
        </div>
    </div>

    <!-- Mastery Completion Modal -->
    <div class="modal" id="mastery-modal">
        <div class="modal-content">
            <h2 class="mastery-title">ğŸ† Grattis! ğŸ†</h2>
            <p class="mastery-message" id="mastery-message">Du behÃ¤rskar 7Ã— tabellen!</p>
            <div class="mastery-stats">
                <div class="mastery-stat">
                    <span class="mastery-label">Totalt svarade:</span>
                    <span class="mastery-value" id="mastery-total">0</span>
                </div>
                <div class="mastery-stat">
                    <span class="mastery-label">Precision:</span>
                    <span class="mastery-value" id="mastery-accuracy">0%</span>
                </div>
            </div>
            <p class="mastery-encouragement">Du fick 5 rÃ¤tt i rad! Fantastiskt jobbat! ğŸŒŸ</p>

            <div class="mastery-options">
                <button class="mastery-btn continue-btn" id="continue-practice">Ã–va igen</button>
                <button class="mastery-btn new-table-btn" id="new-table-btn">Ny tabell</button>
                <button class="mastery-btn game-btn" id="try-game-btn">Prova spellÃ¤ge</button>
            </div>
        </div>
    </div>

    <!-- Seven Stars Modal -->
    <div class="modal" id="seven-stars-modal">
        <div class="modal-content">
            <h2 class="seven-stars-title">ğŸŒŸ FANTASTISKT! ğŸŒŸ</h2>
            <p class="seven-stars-message">Du samlade alla 5 stjÃ¤rnor!</p>
            <div class="celebration-stars">â­â­â­â­â­</div>
            <p class="seven-stars-encouragement">
                Du har klarat utmaningen!<br>
                FortsÃ¤tt gÃ¤rna Ã¶va - stjÃ¤rnorna lyser!
            </p>
            <button class="seven-stars-btn" id="continue-after-seven">FortsÃ¤tt Ã¶va!</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
